

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Example Use Cases &mdash; Comprior  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Input Data Sets" href="inputdata.html" />
    <link rel="prev" title="Installation and Usage" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Comprior
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation and Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#breast-cancer">Breast Cancer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#execution-via-source-installation">Execution via Source Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#execution-via-docker-image">Execution via Docker Image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#glioma">Glioma</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Execution via Source Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Execution via Docker Image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#output-generated-by-comprior">Output Generated by Comprior</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#detailed-processing-outputs">Detailed Processing Outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plots-on-datasets">Plots on Datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mds-plot">MDS plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#density-plot">Density Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#box-plot">Box Plot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#knowledge-base-coverage">Knowledge Base Coverage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gene-coverage-plots">Gene Coverage Plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pathway-coverage-plots">Pathway Coverage Plots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#feature-rankings">Feature Rankings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ranking-overlaps">Ranking Overlaps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#feature-annotations-and-enrichments">Feature Annotations and Enrichments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#annotation-overlaps">Annotation Overlaps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enrichment-overlaps">Enrichment Overlaps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#classification-performance">Classification Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feature-selection-runtimes">Feature Selection Runtimes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="inputdata.html">Input Data Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="configparams.html">Configuration Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputstructure.html">Folder Structure  - Where to find what Files (In- and Output)</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledgebases.html">Knowledge Bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="priorknowledge.html">Prior Knowledge Approaches</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos.html">Extending Comprior - How-Tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="comprior.html">Python Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="r-doc.html">R Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="java-doc.html">Java Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">System Architecture</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Comprior</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Example Use Cases</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/usecases.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="example-use-cases">
<h1>Example Use Cases<a class="headerlink" href="#example-use-cases" title="Permalink to this headline">¶</a></h1>
<div class="section" id="breast-cancer">
<h2>Breast Cancer<a class="headerlink" href="#breast-cancer" title="Permalink to this headline">¶</a></h2>
<p>The prepared breast cancer use case tests selected feature selection approaches (both prior knowledge and traditional) to retrieve genes that best separate the samples into their PAM50 breast cancer subtypes (basal, normal-like, luminal A, luminal B, HER2). The repository contains two breast cancer data sets that are ready for execution with Comprior (links to R-based preprocessing scripts will be added later and are also available upon request):</p>
<ul>
<li><p class="first"><em>TCGA.zip</em>: normalized BRCA samples (no normals) from TCGA including metadata. Contains 1090 samples for 20950 genes. This data must be downloaded by following the instructions in <em>TCGA_README.txt</em>.</p>
</li>
<li><p class="first"><em>SCANB_labeled.csv.zip</em>: labeled data set for cross-validation. Contains 378 SCANB samples for 15011 genes from the training cohort (<a class="reference external" href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE81538">GSE81538</a>)</p>
</li>
<li><p class="first">unzip the files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">data</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">TCGA</span><span class="o">-</span><span class="n">SCANB</span>
<span class="n">unzip</span> <span class="n">SCANB_labeled</span><span class="o">.</span><span class="n">csv</span><span class="o">.</span><span class="n">zip</span>
<span class="n">unzip</span> <span class="n">TCGA</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>make sure the file paths in <em>Comprior/code/configs/TCGA_SCANBconfig.ini</em> are still correct</dt>
<dd><ul class="first last simple">
<li>check <em>input</em> and <em>metadata</em> parameters in <em>Dataset</em> section and <em>crossEvaluationData</em> parameter in <em>Evaluation</em> section)</li>
<li>the resolved <em>inputDir</em> parameter is provided in the main config.ini file and should point to your local Comprior folder</li>
<li>adapt further configuration parameter as you like, e.g. add “Random” to <em>traditional_methods</em></li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="section" id="execution-via-source-installation">
<h3>Execution via Source Installation<a class="headerlink" href="#execution-via-source-installation" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">make sure you installed Comprior (see <a class="reference internal" href="installation.html#sourcerun"><span class="std std-ref">Install and Run Comprior from Source</span></a>) beforehand and <em>homePath</em>, <em>RscriptLocation</em>, and <em>JavaLocation</em> parameters are correctly set in the main <em>config.ini</em> file</p>
</li>
<li><p class="first">navigate to <em>code/Python/comprior</em> (assuming you are still located at <em>Comprior/data/input/TCGA-SCANB</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">../../../</span><span class="n">code</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">comprior</span>
</pre></div>
</div>
</li>
<li><p class="first">start Comprior and provide the config file for this use case:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">config</span> <span class="o">../../</span><span class="n">configs</span><span class="o">/</span><span class="n">TCGA_SCANBconfig</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</li>
<li><p class="first">Check your results in <em>data/results/TCGA-SCANB_UseCase</em> - see <a class="reference internal" href="outputstructure.html#outputstructure"><span class="std std-ref">Folder Structure  - Where to find what Files (In- and Output)</span></a> for an explanation on the folder structure.</p>
</li>
</ul>
</div>
<div class="section" id="execution-via-docker-image">
<h3>Execution via Docker Image<a class="headerlink" href="#execution-via-docker-image" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">make sure you have built the docker container as described in <a class="reference internal" href="installation.html#dockerrun"><span class="std std-ref">Run Comprior in a Docker Container</span></a></p>
</li>
<li><p class="first">copy the folder containing the input files (<em>BRCA_TP_expressions_normalized.csv</em>, <em>BRCA_TP_metadata.csv</em>, and <em>SCANB_labeled.csv</em>) to <em>Comprior/comprior_docker/input</em> (assuming you are in Comprior’s main directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="n">data</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">TCGA</span><span class="o">-</span><span class="n">SCANB</span> <span class="n">comprior_docker</span><span class="o">/</span><span class="nb">input</span>
</pre></div>
</div>
</li>
<li><p class="first">copy the config file <em>TCGA_SCANBconfig.ini</em> to Comprior/comprior_docker:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">code</span><span class="o">/</span><span class="n">configs</span><span class="o">/</span><span class="n">TCGA_SCANBconfig</span><span class="o">.</span><span class="n">ini</span> <span class="n">comprior_docker</span>
</pre></div>
</div>
</li>
<li><p class="first">make sure the <em>input</em>, <em>metadata</em>, and <em>crossEvaluationData</em> parameters point to the right location. If your data is located within a subfolder of the <em>Comprior/comprior_docker/input</em> directory, add this to the parameter. <strong>Do not provide absolute paths</strong> and keep the <em>${General:inputDir}</em>, as it is internally resolved to point towards the input directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[Dataset]
input = ${General:inputDir}TCGA-SCANB/BRCA_TP_expressions_normalized.csv
metadata = ${General:inputDir}TCGA-SCANB/BRCA_TP_metadata.csv

[Evaluation]
crossEvaluationData = ${General:inputDir}TCGA-SCANB/SCANB_labeled.csv
</pre></div>
</div>
</li>
<li><p class="first">run the Docker container as root and provide the absolute path to <em>Comprior/comprior_docker</em> as mount directory (only change <em>/your/absolute/path/to/</em> AND retype the double hyphen for <em>–config</em>; for some reason the config parameter will not be recognized if the statement is just copied from here):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">v</span> <span class="o">/</span><span class="n">your</span><span class="o">/</span><span class="n">absolute</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">Comprior</span><span class="o">/</span><span class="n">comprior_docker</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">data</span> <span class="n">comprior</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">TCGA_SCANBconfig</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</li>
<li><p class="first">Check your results in <em>Comprior/comprior_docker/results/TCGA-SCANB_UseCase</em> - see <a class="reference internal" href="outputstructure.html#outputstructure"><span class="std std-ref">Folder Structure  - Where to find what Files (In- and Output)</span></a> for an explanation on the folder structure and <a class="reference internal" href="#plotsexplained"><span class="std std-ref">Output Generated by Comprior</span></a> for a more detailed description on the generated plots.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="glioma">
<h2>Glioma<a class="headerlink" href="#glioma" title="Permalink to this headline">¶</a></h2>
<p>The prepared glioma use case tests selected feature selection approaches (both prior knowledge and traditional) to retrieve genes that best separate the samples into their glioma subtypes astrocytoma, glioblastoma, and oligodendroglioma. The repository contains two glioma data sets that are ready for execution with Comprior(links to R-based preprocessing scripts will be added later and are also available upon request):</p>
<ul>
<li><p class="first"><em>TCGA.zip</em>: normalized GBM and LGG samples (no normals) from TCGA including metadata. Contains 496 samples for 19301 genes.</p>
</li>
<li><p class="first"><em>REMBRANDT_labeled.csv.zip</em>: labeled data set for cross-validation. Contains 436 samples for 31442 probes from the REMBRANDT study (microarray data, <a class="reference external" href="https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE108474">GSE108474</a>)</p>
</li>
<li><p class="first">unzip the files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">data</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">GBM</span><span class="o">-</span><span class="n">LGG</span>
<span class="n">unzip</span> <span class="n">REMBRANDT_labeled</span><span class="o">.</span><span class="n">csv</span><span class="o">.</span><span class="n">zip</span>
<span class="n">unzip</span> <span class="n">TCGA</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>make sure the file paths in <em>Comprior/code/configs/GBMLGGconfig.ini</em> are still correct</dt>
<dd><ul class="first last simple">
<li>check <em>input</em> and <em>metadata</em> parameters in <em>Dataset</em> section and <em>crossEvaluationData</em> parameter in <em>Evaluation</em> section)</li>
<li>the resolved <em>inputDir</em> parameter is provided in the main config.ini file and should point to your local Comprior folder</li>
<li>adapt further configuration parameter as you like, e.g. add “Random” to <em>traditional_methods</em></li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="section" id="id1">
<h3>Execution via Source Installation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">make sure you installed Comprior (see <a class="reference internal" href="installation.html#sourcerun"><span class="std std-ref">Install and Run Comprior from Source</span></a>) beforehand and <em>homePath</em>, <em>RscriptLocation</em>, and <em>JavaLocation</em> parameters are correctly set in the main <em>config.ini</em> file</p>
</li>
<li><p class="first">navigate to <em>Comprior/code/Python/comprior*(assuming you are still located at *Comprior/data/input/GBM-LGG</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">../../../</span><span class="n">code</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">comprior</span>
</pre></div>
</div>
</li>
<li><p class="first">start Comprior and provide the config file for this use case:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">config</span> <span class="o">../../</span><span class="n">configs</span><span class="o">/</span><span class="n">GBMLGGconfig</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</li>
<li><p class="first">Check your results in <em>data/results/GBMLGG_UseCase</em> - see <a class="reference internal" href="outputstructure.html#outputstructure"><span class="std std-ref">Folder Structure  - Where to find what Files (In- and Output)</span></a> for an explanation on the folder structure.</p>
</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Execution via Docker Image<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">make sure you have built the docker container as described in <a class="reference internal" href="installation.html#dockerrun"><span class="std std-ref">Run Comprior in a Docker Container</span></a></p>
</li>
<li><p class="first">copy the folder containing the input files (<em>GBM-LGG_TP_expressions_normalized.csv</em>, <em>GBM-LGG_TP_metadata.csv</em>, and <em>REMBRANDT_labeled.csv</em>) to <em>Comprior/comprior_docker/input</em> (assuming you are in Comprior’s main directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="n">data</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">GBM</span><span class="o">-</span><span class="n">LGG</span> <span class="n">comprior_docker</span><span class="o">/</span><span class="nb">input</span>
</pre></div>
</div>
</li>
<li><p class="first">copy the config file <em>GBMLGGconfig.ini</em> to Comprior/comprior_docker:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">code</span><span class="o">/</span><span class="n">configs</span><span class="o">/</span><span class="n">GBMLGGconfig</span><span class="o">.</span><span class="n">ini</span> <span class="n">comprior_docker</span>
</pre></div>
</div>
</li>
<li><p class="first">make sure the <em>input</em>, <em>metadata</em>, and <em>crossEvaluationData</em> parameters point to the right location. If your data is located within a subfolder of the <em>Comprior/comprior_docker/input</em> directory, add this to the parameter. <strong>Do not provide absolute paths</strong> and keep the <em>${General:inputDir}</em>, as it is internally resolved to point towards the input directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[Dataset]
input = ${General:inputDir}GBM-LGG/GBM-LGG_TP_expressions_normalized.csv
metadata = ${General:inputDir}GBM-LGG/GBM-LGG_TP_metadata.csv

[Evaluation]
crossEvaluationData = ${General:inputDir}GBM-LGG/SCANB_labeled.csv
</pre></div>
</div>
</li>
<li><p class="first">run the Docker container as root and provide the absolute path to <em>Comprior/comprior_docker</em> as mount directory (only change <em>/your/absolute/path/to/</em> AND retype the double hyphen for <em>–config</em>; for some reason the config parameter will not be recognized if the statement is just copied from here):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">v</span> <span class="o">/</span><span class="n">your</span><span class="o">/</span><span class="n">absolute</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">Comprior</span><span class="o">/</span><span class="n">comprior_docker</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">data</span> <span class="n">comprior</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">GBMLGGconfig</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
</li>
<li><p class="first">Check your results in <em>Comprior/comprior_docker/results/GBMLGG_UseCase</em> - see <a class="reference internal" href="outputstructure.html#outputstructure"><span class="std std-ref">Folder Structure  - Where to find what Files (In- and Output)</span></a> for an explanation on the folder structure and <a class="reference internal" href="#plotsexplained"><span class="std std-ref">Output Generated by Comprior</span></a> for more a more detailed explanation on the generated plots.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="output-generated-by-comprior">
<span id="plotsexplained"></span><h2>Output Generated by Comprior<a class="headerlink" href="#output-generated-by-comprior" title="Permalink to this headline">¶</a></h2>
<div class="section" id="detailed-processing-outputs">
<h3>Detailed Processing Outputs<a class="headerlink" href="#detailed-processing-outputs" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em>Comprior.log</em> contains more detailed outputs compared to the command line output. If you find that there is a figure or other output missing that you expected to be there, look at the log file as it is likely that a corresponding warning was posted there (e.g. Comprior does not automatically stop when a knowledge base does not return any results but just continues with the empty set of prior knowledge).</li>
</ul>
</div>
<div class="section" id="plots-on-datasets">
<h3>Plots on Datasets<a class="headerlink" href="#plots-on-datasets" title="Permalink to this headline">¶</a></h3>
<p>If <em>preanalysis_plots</em> (Evaluation section) was provided with one or more keywords in your config file, Comprior creates corresponding plots for the input data sets (both the main and - if available - the labeled one for cross-validation). Colors for class labels are the same across all plots created. You can find the plots in <em>Comprior/data/results/YourExperimentName/preanalysis</em></p>
<div class="section" id="mds-plot">
<h4>MDS plot<a class="headerlink" href="#mds-plot" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>keyword: mds</li>
<li>multidimensional scaling plot showing dis-/similarities between samples</li>
<li>output file name: <em>mds_InputDatasetName.pdf</em></li>
</ul>
<div class="figure" id="id3">
<a class="reference internal image-reference" href="_images/BRCA_TCGA_mds.png"><img alt="_images/BRCA_TCGA_mds.png" src="_images/BRCA_TCGA_mds.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Multidimensional scaling (MDS) plot for the input data set (TCGA) of the BRCA use case, one line per class label.</span></p>
</div>
</div>
<div class="section" id="density-plot">
<h4>Density Plot<a class="headerlink" href="#density-plot" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>keyword: density</li>
<li>shows the average density distribution of expression levels per class label</li>
<li>output file name: <em>density_InputDatasetName.pdf</em></li>
</ul>
<div class="figure" id="id4">
<a class="reference internal image-reference" href="_images/BRCA_TCGA_density.png"><img alt="_images/BRCA_TCGA_density.png" src="_images/BRCA_TCGA_density.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Density plot for the input data set (TCGA) of the BRCA use case, one line per class label.</span></p>
</div>
</div>
<div class="section" id="box-plot">
<h4>Box Plot<a class="headerlink" href="#box-plot" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>keyword: box</li>
<li>shows the expression levels with one box per class label</li>
<li>output file name: <em>distribution_InputDatasetName.pdf</em></li>
</ul>
<div class="figure" id="id5">
<a class="reference internal image-reference" href="_images/BRCA_TCGA_boxplot.png"><img alt="_images/BRCA_TCGA_boxplot.png" src="_images/BRCA_TCGA_boxplot.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Box plot for the input data set (TCGA) of the BRCA use case, one box per class label.</span></p>
</div>
</div>
</div>
<div class="section" id="knowledge-base-coverage">
<h3>Knowledge Base Coverage<a class="headerlink" href="#knowledge-base-coverage" title="Permalink to this headline">¶</a></h3>
<p>If <em>evaluateKBcoverage</em> (Evaluation section) is set to true in your config file, Comprior examines how much the search terms provided in the config file are covered by the knowledge bases that are used in this experiment. For example, if you use Postfilter_Variance_DisGeNET, then Comprior will check the coverage of DisGeNET only.
You can find the plots in <em>Comprior/data/results/YourExperimentName/preanalysis</em>.</p>
<p>If a search term has more than 15 signs, Comprior will map the search terms to a shorter ID and use this instead for the plots. The mapping from search term to ID is then provided in  <em>Comprior/data/results/YourExperimentName/preanalysis/searchterm_IDs.txt</em>.</p>
<div class="section" id="gene-coverage-plots">
<h4>Gene Coverage Plots<a class="headerlink" href="#gene-coverage-plots" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>created for every knowledge base (see <a class="reference internal" href="knowledgebases.html#pathwaygeneassocs"><span class="std std-ref">Gene Association Score Computation from Network Information</span></a> for how an individual gene association score is computed for interaction knowledge bases that only retrieve network information)</li>
<li>file name: <em>KnowledgeBaseName_GeneCoverage.pdf</em> (source file: <em>KnowledgeBaseName_GeneStats.csv</em>)</li>
<li>box plot shows the distribution of association scores (left-hand y axis) that are returned for a given search term, the underlying bar plot shows how many genes (right-hand y axis) were returned per search term (attention: gene sets are not disjunct, i.e. results for search terms can show a high overlap if the search terms are similar)</li>
</ul>
<div class="figure" id="id6">
<a class="reference internal image-reference" href="_images/GBMLGG_OpenTargets_GeneCoverage.png"><img alt="_images/GBMLGG_OpenTargets_GeneCoverage.png" src="_images/GBMLGG_OpenTargets_GeneCoverage.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Prior knowledge coverage in OpenTargets for the search terms used in the GBM-LGG use case. Boxes show the association scores returned for the genes related to the search term, bars showing the overall number of genes returned for a search term.</span></p>
</div>
</div>
<div class="section" id="pathway-coverage-plots">
<h4>Pathway Coverage Plots<a class="headerlink" href="#pathway-coverage-plots" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>created only for knowledge bases providing network information, e.g. KEGG or PathwayCommons</li>
<li>file name: <em>KnowledgeBaseName_PathwayCoverage.pdf</em> (source file: <em>KnowledgeBaseName_PathwayStats.csv</em>)</li>
<li>box plot shows the distribution of network sizes (i.e., number of member genes, left-hand y axis) that are returned for a given search term, the underlying bar plot shows how many networks (right-hand y axis) were returned per search term (attention: pathway sets are not disjunct, i.e. results for search terms can show a high overlap if the search terms are similar)</li>
</ul>
<div class="figure" id="id7">
<a class="reference internal image-reference" href="_images/GBMLGG_PathwayCommons_PathwayCoverage.png"><img alt="_images/GBMLGG_PathwayCommons_PathwayCoverage.png" src="_images/GBMLGG_PathwayCommons_PathwayCoverage.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Prior knowledge coverage in PathwayCommons for the search terms used in the GBM-LGG use case. Boxes show the pathway sizes (=number of genes) of the retrieved pathways, bars showing the overall number of pathways returned for a search term.</span></p>
</div>
</div>
</div>
<div class="section" id="feature-rankings">
<h3>Feature Rankings<a class="headerlink" href="#feature-rankings" title="Permalink to this headline">¶</a></h3>
<p>Every feature selection approach creates a corresponding feature ranking of all the input features. The corresponding rankings (<em>ApproachName.csv</em>) are located at <em>Comprior/data/results/YourExperimentName/GeneRankings/</em> and contains an ordered feature list, thus the top k features in the list will be used for classification later on. Based on what keywords are provided for the <em>metrics</em> (Rankings section) parameter in your config file, Comprior creates corresponding plots in <em>Comprior/data/results/YourExperimentName/evaluation/rankings</em> and uses a consistent color scheme.</p>
<div class="section" id="ranking-overlaps">
<h4>Ranking Overlaps<a class="headerlink" href="#ranking-overlaps" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>file name: <em>metrics/geneSignatureOverlaps.pdf</em></li>
<li>&lt;= 3 feature rankings: Venn diagram</li>
<li>&gt; 3 feature rankings: Upset plot</li>
<li>shows overlaps of the top k feature sets for all feature selection approaches</li>
<li>hint: <em>NetworkActivity</em> and <em>CorgsNetworkActivity</em> will not have any overlap with other approaches, as they have pathways as features and not genes as the others</li>
</ul>
<div class="figure" id="id8">
<a class="reference internal image-reference" href="_images/BRCA_geneSignatureOverlaps.png"><img alt="_images/BRCA_geneSignatureOverlaps.png" src="_images/BRCA_geneSignatureOverlaps.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Feature set overlaps for the top 20 features selected by the approaches used in the BRCA use case.</span></p>
</div>
</div>
</div>
<div class="section" id="feature-annotations-and-enrichments">
<h3>Feature Annotations and Enrichments<a class="headerlink" href="#feature-annotations-and-enrichments" title="Permalink to this headline">¶</a></h3>
<p>Comprior uses Enrichr to a) annotate the top k features and b) enrich these feature sets with terms. You can select the library to be used for that by providing its corresponding name as stated by Enrichr (see <a class="reference external" href="https://maayanlab.cloud/Enrichr/#stats">here</a>) in the <em>geneSetLibrary</em> parameter (Enrichr section) in your config file. The plots and their source files are located at <em>Comprior/data/results/YourExperimentName/evaluation/rankings/</em>.</p>
<div class="section" id="annotation-overlaps">
<h4>Annotation Overlaps<a class="headerlink" href="#annotation-overlaps" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>file name: <em>annotation/overlaps_annotatedGenes.pdf</em> (based on source files with annotations: <em>topk_ApproachName_annotatedGenes.csv</em>)</li>
<li>&lt;= 3 approaches used: Venn diagram, &gt; 3 approaches used: Upset plot</li>
<li>shows overlaps of annotated terms for the top k annotated terms per feature set (=how many annotations feature sets share)</li>
<li>for example, two feature sets might not actually have an overlap in their features, but some features might be annotated with the same terms</li>
</ul>
<div class="figure" id="id9">
<a class="reference internal image-reference" href="_images/BRCA_overlaps_annotatedGenes.png"><img alt="_images/BRCA_overlaps_annotatedGenes.png" src="_images/BRCA_overlaps_annotatedGenes.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Overlaps of top 20 annotations made to the feature sets (top 20) selected by the approaches used in the BRCA use case.</span></p>
</div>
</div>
<div class="section" id="enrichment-overlaps">
<h4>Enrichment Overlaps<a class="headerlink" href="#enrichment-overlaps" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>file name: <em>annotation/overlaps_enrichedTerms.pdf</em> (based on source files with annotations: <em>topk_ApproachName_enrichedTerms.csv</em>)</li>
<li>&lt;= 3 approaches used: Venn diagram, &gt; 3 approaches used: Upset plot</li>
<li>shows overlaps of the top k enriched terms per feature set (=how much the enriched terms identified for the feature sets overlap)</li>
<li>for example, two feature sets might not actually have an overlap in their features, but in both feature sets the same terms are enriched</li>
</ul>
<div class="figure" id="id10">
<a class="reference internal image-reference" href="_images/BRCA_overlaps_enrichedTerms.png"><img alt="_images/BRCA_overlaps_enrichedTerms.png" src="_images/BRCA_overlaps_enrichedTerms.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Overlaps of top 20 enrichments for feature sets (top 20) selected by the approaches used in the BRCA use case.</span></p>
</div>
</div>
</div>
<div class="section" id="classification-performance">
<h3>Classification Performance<a class="headerlink" href="#classification-performance" title="Permalink to this headline">¶</a></h3>
<p>Comprior uses the top k features from every approach and classifies the original data set (and, if provided, the second labeled data set) with these features according to the parameters (which classifiers to use, k-fold cross-validation, which metrics to apply, etc.) specified in the config file.
For every metric selected, Comprior creates line plots that show the average classification metric, e.g. accuracy, for all feature selection approaches.
The plots and their source files for metrics (of type <em>ApproachName_MetricName.csv</em>) on the original data set are located at <em>Comprior/data/results/YourExperimentName/evaluation/classification/metrics</em>.
The plots and their source files for metrics (of type <em>ApproachName_MetricName.csv</em>) on the cross-validation data set are located at <em>Comprior/data/results/YourExperimentName/evaluation/classification/crossEvaluation/classification</em>.
The colors assigned to the approaches are consistent across all plots generated by Comprior.</p>
<div class="figure" id="id11">
<a class="reference internal image-reference" href="_images/BRCA_original_F1.png"><img alt="_images/BRCA_original_F1.png" src="_images/BRCA_original_F1.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Average F1 score for increasing feature set sizes selected by the approaches used in the GBM-LGG use case (original TCGA data set was classified).</span></p>
</div>
<div class="figure" id="id12">
<a class="reference internal image-reference" href="_images/BRCA_crossVal_F1.png"><img alt="_images/BRCA_crossVal_F1.png" src="_images/BRCA_crossVal_F1.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Average F1 score for increasing feature set sizes selected by the approaches used in the BRCA use case (labeled SCANB data set was classified, features were originally selected on the TCGA data set).</span></p>
</div>
</div>
<div class="section" id="feature-selection-runtimes">
<h3>Feature Selection Runtimes<a class="headerlink" href="#feature-selection-runtimes" title="Permalink to this headline">¶</a></h3>
<p>Comprior also logs runtimes of feature selection approaches (though no plots are created currently).
Runtime statistics are located at <em>Comprior/data/results/YourExperimentName/timeLogs</em>, with one file per feature selection approach. The last line of each file always contains the overall runtime for feature selection. The remaining lines trace runtimes of single parts of the feature selection process, e.g. of prior knowledge retrieval or a traditional feature selection strategy.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="inputdata.html" class="btn btn-neutral float-right" title="Input Data Sets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation and Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Cindy Perscheid.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>